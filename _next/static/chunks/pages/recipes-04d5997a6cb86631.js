(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{9232:(e,t,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/recipes",function(){return o(7984)}])},5950:(e,t)=>{"use strict";var o,n;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var o in t)Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}(t,{ACTION_HMR_REFRESH:function(){return a},ACTION_NAVIGATE:function(){return l},ACTION_PREFETCH:function(){return u},ACTION_REFRESH:function(){return r},ACTION_RESTORE:function(){return c},ACTION_SERVER_ACTION:function(){return i},ACTION_SERVER_PATCH:function(){return s},PrefetchCacheEntryStatus:function(){return n},PrefetchKind:function(){return o}});let r="refresh",l="navigate",c="restore",s="server-patch",u="prefetch",a="hmr-refresh",i="server-action";!function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"}(o||(o={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(n||(n={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4078:(e,t,o)=>{"use strict";function n(e,t,o,n){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return n}}),o(6094),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8444:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return j}});let n=o(7677),r=o(4848),l=n._(o(6540)),c=o(6846),s=o(7262),u=o(5543),a=o(4881),i=o(3912),f=o(4671),d=o(3489),p=o(3479),g=o(4078),b=o(5371),h=o(5950),y=o(4293),m=new Set;function v(e,t,o,n,r,l){if(l||(0,s.isLocalURL)(t)){if(!n.bypassPrefetchedCheck&&!l){let r=t+"%"+o+"%"+(void 0!==n.locale?n.locale:"locale"in e?e.locale:void 0);if(m.has(r))return;m.add(r)}(async()=>l?e.prefetch(t,r):e.prefetch(t,o,n))().catch(e=>{})}}function _(e){return"string"==typeof e?e:(0,u.formatUrl)(e)}let j=l.default.forwardRef(function(e,t){let o,n;let{href:u,as:m,children:j,prefetch:O=null,passHref:x,replace:P,shallow:C,scroll:E,locale:M,onClick:A,onMouseEnter:R,onTouchStart:w,legacyBehavior:N=!1,...T}=e;o=j,N&&("string"==typeof o||"number"==typeof o)&&(o=(0,r.jsx)("a",{children:o}));let k=l.default.useContext(f.RouterContext),S=l.default.useContext(d.AppRouterContext),I=null!=k?k:S,L=!k,D=!1!==O,B=null===O?h.PrefetchKind.AUTO:h.PrefetchKind.FULL,{href:U,as:H}=l.default.useMemo(()=>{if(!k){let e=_(u);return{href:e,as:m?_(m):e}}let[e,t]=(0,c.resolveHref)(k,u,!0);return{href:e,as:m?(0,c.resolveHref)(k,m):t||e}},[k,u,m]),K=l.default.useRef(U),F=l.default.useRef(H);N&&(n=l.default.Children.only(o));let q=N?n&&"object"==typeof n&&n.ref:t,[z,V,X]=(0,p.useIntersection)({rootMargin:"200px"}),G=l.default.useCallback(e=>{(F.current!==H||K.current!==U)&&(X(),F.current=H,K.current=U),z(e)},[H,U,X,z]),Q=(0,y.useMergedRef)(G,q);l.default.useEffect(()=>{I&&V&&D&&v(I,U,H,{locale:M},{kind:B},L)},[H,U,V,M,D,null==k?void 0:k.locale,I,L,B]);let Y={ref:Q,onClick(e){N||"function"!=typeof A||A(e),N&&n.props&&"function"==typeof n.props.onClick&&n.props.onClick(e),I&&!e.defaultPrevented&&function(e,t,o,n,r,c,u,a,i){let{nodeName:f}=e.currentTarget;if("A"===f.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!i&&!(0,s.isLocalURL)(o)))return;e.preventDefault();let d=()=>{let e=null==u||u;"beforePopState"in t?t[r?"replace":"push"](o,n,{shallow:c,locale:a,scroll:e}):t[r?"replace":"push"](n||o,{scroll:e})};i?l.default.startTransition(d):d()}(e,I,U,H,P,C,E,M,L)},onMouseEnter(e){N||"function"!=typeof R||R(e),N&&n.props&&"function"==typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),I&&(D||!L)&&v(I,U,H,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:B},L)},onTouchStart:function(e){N||"function"!=typeof w||w(e),N&&n.props&&"function"==typeof n.props.onTouchStart&&n.props.onTouchStart(e),I&&(D||!L)&&v(I,U,H,{locale:M,priority:!0,bypassPrefetchedCheck:!0},{kind:B},L)}};if((0,a.isAbsoluteUrl)(H))Y.href=H;else if(!N||x||"a"===n.type&&!("href"in n.props)){let e=void 0!==M?M:null==k?void 0:k.locale,t=(null==k?void 0:k.isLocaleDomain)&&(0,g.getDomainLocale)(H,e,null==k?void 0:k.locales,null==k?void 0:k.domainLocales);Y.href=t||(0,b.addBasePath)((0,i.addLocale)(H,e,null==k?void 0:k.defaultLocale))}return N?l.default.cloneElement(n,Y):(0,r.jsx)("a",{...T,...Y,children:o})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3479:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return u}});let n=o(6540),r=o(9820),l="function"==typeof IntersectionObserver,c=new Map,s=[];function u(e){let{rootRef:t,rootMargin:o,disabled:u}=e,a=u||!l,[i,f]=(0,n.useState)(!1),d=(0,n.useRef)(null),p=(0,n.useCallback)(e=>{d.current=e},[]);return(0,n.useEffect)(()=>{if(l){if(a||i)return;let e=d.current;if(e&&e.tagName)return function(e,t,o){let{id:n,observer:r,elements:l}=function(e){let t;let o={root:e.root||null,margin:e.rootMargin||""},n=s.find(e=>e.root===o.root&&e.margin===o.margin);if(n&&(t=c.get(n)))return t;let r=new Map;return t={id:o,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=r.get(e.target),o=e.isIntersecting||e.intersectionRatio>0;t&&o&&t(o)})},e),elements:r},s.push(o),c.set(o,t),t}(o);return l.set(e,t),r.observe(e),function(){if(l.delete(e),r.unobserve(e),0===l.size){r.disconnect(),c.delete(n);let e=s.findIndex(e=>e.root===n.root&&e.margin===n.margin);e>-1&&s.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:o})}else if(!i){let e=(0,r.requestIdleCallback)(()=>f(!0));return()=>(0,r.cancelIdleCallback)(e)}},[a,o,t,i,d.current]),[p,i,(0,n.useCallback)(()=>{f(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4293:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let n=o(6540);function r(e,t){let o=(0,n.useRef)(()=>{}),r=(0,n.useRef)(()=>{});return(0,n.useMemo)(()=>e&&t?n=>{null===n?(o.current(),r.current()):(o.current=l(e,n),r.current=l(t,n))}:e||t,[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let o=e(t);return"function"==typeof o?o:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7984:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>u});var n=o(4848),r=o(1106),l=o.n(r),c=o(9028),s=o(6540);function u(){let e=(0,s.useMemo)(()=>new c.A,[]),[t,o]=(0,s.useState)([]),[r,u]=(0,s.useState)([]);async function a(t){await e.delete(t),window.location.reload()}return(0,s.useEffect)(()=>{e.getAll().then(e=>{console.log("recipesQuery: ".concat(e)),void 0!=e&&(o(e),u(e))})},[e]),(0,n.jsxs)("div",{className:"d-flex flex-column w-100",children:[(0,n.jsx)("h1",{className:"align-self-center",children:"Receitas"}),(0,n.jsx)("input",{type:"text",name:"search-recipe",id:"search-recipe",className:"form-control m-2 my-4 w-75 align-self-center",onChange:e=>{let o=e.target.value;if(""===e.target.value){u(t);return}u(t.filter(e=>e.name.includes(o)))}}),(0,n.jsx)("ul",{className:"recipesList",children:r.map(e=>(0,n.jsxs)("div",{children:[(0,n.jsxs)("li",{className:"d-flex justify-content-between align-items-center me-4",children:[(0,n.jsx)(l(),{href:"/new/".concat(e.id),className:"text-decoration-none fs-4",children:e.name}),(0,n.jsx)("button",{className:"btn-close",onClick:()=>e.id?a(e.id):""})]}),(0,n.jsx)("hr",{className:"me-4"})]},e.id))})]})}},9028:(e,t,o)=>{"use strict";let n;o.d(t,{A:()=>u});let r="recipesDatabase",l="recipes";function c(e){e.onupgradeneeded=()=>{n=e.result,console.log("openDatabase:onupgradeneeded"),n.objectStoreNames.contains(l)||n.createObjectStore(l,{keyPath:"id",autoIncrement:!0})},e.onerror=()=>{console.error("Database Error",e.error)},e.onblocked=()=>{alert("Banco de dados bloqueado")}}function s(){n.onversionchange=()=>{console.log("openDatabase:onversionchange"),null!=n&&(n.close(),alert("Banco de dados desatualizado. Atualize a p\xe1gina."))}}class u{getAll(){let e=indexedDB.open(r,1);return c(e),console.log("get all called"),new Promise((t,o)=>{e.onsuccess=()=>{n=e.result,console.log("success openning database"),s();let r=n.transaction(l),c=r.objectStore(l).getAll();console.log("getAll request: ".concat(c)),c.onerror=()=>o(c.error),c.onsuccess=()=>{t(c.result)},r.oncomplete=()=>{console.log("getAll result: ".concat(c.result)),n.close()}}})}getById(e){console.log("getById called");let t=indexedDB.open(r,1);return c(t),new Promise((o,r)=>{t.onsuccess=()=>{n=t.result,console.log("success openning database"),s();let c=n.transaction(l),u=c.objectStore(l).get(e);console.log("getAll request: ".concat(u)),u.onerror=()=>r(u.error),u.onsuccess=()=>{o(u.result)},c.oncomplete=()=>{console.log("getAll result: ".concat(u.result)),n.close()}}})}create(e){let t=indexedDB.open(r,1);c(t),t.onsuccess=()=>{n=t.result,s();let o=n.transaction(l,"readwrite"),r=o.objectStore(l);console.log("recipe to be saved: ".concat(e)),void 0==e.id&&delete e.id;let c=r.put(e);c.onsuccess=()=>console.log("adicionado com sucesso",c.result),c.onerror=()=>console.log("erro ao adicionar",c.error),o.oncomplete=()=>n.close()}}async bulkCreate(e){let t=indexedDB.open(r,1);return c(t),new Promise((o,r)=>{t.onsuccess=()=>{n=t.result,s();let c=n.transaction(l,"readwrite"),u=c.objectStore(l);for(let t of(console.log("recipes to be saved: ".concat(e)),e)){let e=u.put(t);e.onsuccess=()=>o(!0),e.onerror=()=>r(e.error)}c.oncomplete=()=>n.close()}})}delete(e){let t=indexedDB.open(r,1);c(t),t.onsuccess=()=>{n=t.result,s();let o=n.transaction(l,"readwrite"),r=o.objectStore(l);console.log("recipe id to be deleted: ".concat(e));let c=r.delete(e);c.onsuccess=()=>console.log("deletado com sucesso",c.result),c.onerror=()=>console.log("erro ao deletar",c.error),o.oncomplete=()=>n.close()}}}},1106:(e,t,o)=>{e.exports=o(8444)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(9232)),_N_E=e.O()}]);