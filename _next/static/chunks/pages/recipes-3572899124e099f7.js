(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{9232:(e,t,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/recipes",function(){return n(7984)}])},5950:(e,t)=>{"use strict";var n,o;Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var n in t)Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}(t,{ACTION_HMR_REFRESH:function(){return a},ACTION_NAVIGATE:function(){return l},ACTION_PREFETCH:function(){return s},ACTION_REFRESH:function(){return r},ACTION_RESTORE:function(){return u},ACTION_SERVER_ACTION:function(){return i},ACTION_SERVER_PATCH:function(){return c},PrefetchCacheEntryStatus:function(){return o},PrefetchKind:function(){return n}});let r="refresh",l="navigate",u="restore",c="server-patch",s="prefetch",a="hmr-refresh",i="server-action";!function(e){e.AUTO="auto",e.FULL="full",e.TEMPORARY="temporary"}(n||(n={})),function(e){e.fresh="fresh",e.reusable="reusable",e.expired="expired",e.stale="stale"}(o||(o={})),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4078:(e,t,n)=>{"use strict";function o(e,t,n,o){return!1}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getDomainLocale",{enumerable:!0,get:function(){return o}}),n(6094),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8444:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return m}});let o=n(7677),r=n(4848),l=o._(n(6540)),u=n(6846),c=n(7262),s=n(5543),a=n(4881),i=n(3912),f=n(4671),d=n(3489),p=n(3479),b=n(4078),g=n(5371),h=n(5950),y=n(4293),_=new Set;function v(e,t,n,o,r,l){if(l||(0,c.isLocalURL)(t)){if(!o.bypassPrefetchedCheck&&!l){let r=t+"%"+n+"%"+(void 0!==o.locale?o.locale:"locale"in e?e.locale:void 0);if(_.has(r))return;_.add(r)}(async()=>l?e.prefetch(t,r):e.prefetch(t,n,o))().catch(e=>{})}}function j(e){return"string"==typeof e?e:(0,s.formatUrl)(e)}let m=l.default.forwardRef(function(e,t){let n,o;let{href:s,as:_,children:m,prefetch:O=null,passHref:E,replace:P,shallow:C,scroll:M,locale:A,onClick:R,onMouseEnter:x,onTouchStart:T,legacyBehavior:I=!1,...k}=e;n=m,I&&("string"==typeof n||"number"==typeof n)&&(n=(0,r.jsx)("a",{children:n}));let S=l.default.useContext(f.RouterContext),N=l.default.useContext(d.AppRouterContext),w=null!=S?S:N,L=!S,D=!1!==O,U=null===O?h.PrefetchKind.AUTO:h.PrefetchKind.FULL,{href:B,as:H}=l.default.useMemo(()=>{if(!S){let e=j(s);return{href:e,as:_?j(_):e}}let[e,t]=(0,u.resolveHref)(S,s,!0);return{href:e,as:_?(0,u.resolveHref)(S,_):t||e}},[S,s,_]),K=l.default.useRef(B),F=l.default.useRef(H);I&&(o=l.default.Children.only(n));let q=I?o&&"object"==typeof o&&o.ref:t,[z,V,X]=(0,p.useIntersection)({rootMargin:"200px"}),G=l.default.useCallback(e=>{(F.current!==H||K.current!==B)&&(X(),F.current=H,K.current=B),z(e)},[H,B,X,z]),Q=(0,y.useMergedRef)(G,q);l.default.useEffect(()=>{w&&V&&D&&v(w,B,H,{locale:A},{kind:U},L)},[H,B,V,A,D,null==S?void 0:S.locale,w,L,U]);let Y={ref:Q,onClick(e){I||"function"!=typeof R||R(e),I&&o.props&&"function"==typeof o.props.onClick&&o.props.onClick(e),w&&!e.defaultPrevented&&function(e,t,n,o,r,u,s,a,i){let{nodeName:f}=e.currentTarget;if("A"===f.toUpperCase()&&(function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||!i&&!(0,c.isLocalURL)(n)))return;e.preventDefault();let d=()=>{let e=null==s||s;"beforePopState"in t?t[r?"replace":"push"](n,o,{shallow:u,locale:a,scroll:e}):t[r?"replace":"push"](o||n,{scroll:e})};i?l.default.startTransition(d):d()}(e,w,B,H,P,C,M,A,L)},onMouseEnter(e){I||"function"!=typeof x||x(e),I&&o.props&&"function"==typeof o.props.onMouseEnter&&o.props.onMouseEnter(e),w&&(D||!L)&&v(w,B,H,{locale:A,priority:!0,bypassPrefetchedCheck:!0},{kind:U},L)},onTouchStart:function(e){I||"function"!=typeof T||T(e),I&&o.props&&"function"==typeof o.props.onTouchStart&&o.props.onTouchStart(e),w&&(D||!L)&&v(w,B,H,{locale:A,priority:!0,bypassPrefetchedCheck:!0},{kind:U},L)}};if((0,a.isAbsoluteUrl)(H))Y.href=H;else if(!I||E||"a"===o.type&&!("href"in o.props)){let e=void 0!==A?A:null==S?void 0:S.locale,t=(null==S?void 0:S.isLocaleDomain)&&(0,b.getDomainLocale)(H,e,null==S?void 0:S.locales,null==S?void 0:S.domainLocales);Y.href=t||(0,g.addBasePath)((0,i.addLocale)(H,e,null==S?void 0:S.defaultLocale))}return I?l.default.cloneElement(o,Y):(0,r.jsx)("a",{...k,...Y,children:n})});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},3479:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useIntersection",{enumerable:!0,get:function(){return s}});let o=n(6540),r=n(9820),l="function"==typeof IntersectionObserver,u=new Map,c=[];function s(e){let{rootRef:t,rootMargin:n,disabled:s}=e,a=s||!l,[i,f]=(0,o.useState)(!1),d=(0,o.useRef)(null),p=(0,o.useCallback)(e=>{d.current=e},[]);return(0,o.useEffect)(()=>{if(l){if(a||i)return;let e=d.current;if(e&&e.tagName)return function(e,t,n){let{id:o,observer:r,elements:l}=function(e){let t;let n={root:e.root||null,margin:e.rootMargin||""},o=c.find(e=>e.root===n.root&&e.margin===n.margin);if(o&&(t=u.get(o)))return t;let r=new Map;return t={id:n,observer:new IntersectionObserver(e=>{e.forEach(e=>{let t=r.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)})},e),elements:r},c.push(n),u.set(n,t),t}(n);return l.set(e,t),r.observe(e),function(){if(l.delete(e),r.unobserve(e),0===l.size){r.disconnect(),u.delete(o);let e=c.findIndex(e=>e.root===o.root&&e.margin===o.margin);e>-1&&c.splice(e,1)}}}(e,e=>e&&f(e),{root:null==t?void 0:t.current,rootMargin:n})}else if(!i){let e=(0,r.requestIdleCallback)(()=>f(!0));return()=>(0,r.cancelIdleCallback)(e)}},[a,n,t,i,d.current]),[p,i,(0,o.useCallback)(()=>{f(!1)},[])]}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4293:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let o=n(6540);function r(e,t){let n=(0,o.useRef)(()=>{}),r=(0,o.useRef)(()=>{});return(0,o.useMemo)(()=>e&&t?o=>{null===o?(n.current(),r.current()):(n.current=l(e,o),r.current=l(t,o))}:e||t,[e,t])}function l(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let n=e(t);return"function"==typeof n?n:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},7984:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var o=n(4848),r=n(1106),l=n.n(r),u=n(9028),c=n(6540);function s(){let e=(0,c.useMemo)(()=>new u.A,[]),[t,n]=(0,c.useState)([]);return(0,c.useEffect)(()=>{e.getAll().then(e=>{console.log("recipesQuery: ".concat(e)),void 0!=e&&n(e)})},[e]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Receitas"}),(0,o.jsx)("ul",{className:"recipesList",children:t.map(e=>(0,o.jsx)("li",{children:(0,o.jsx)(l(),{href:"/new/".concat(e.id),className:"text-decoration-none fs-4",children:e.name})},e.id))})]})}},9028:(e,t,n)=>{"use strict";let o;n.d(t,{A:()=>s});let r="recipesDatabase",l="recipes";function u(e){e.onupgradeneeded=()=>{o=e.result,console.log("openDatabase:onupgradeneeded"),o.objectStoreNames.contains(l)||o.createObjectStore(l,{autoIncrement:!0})},e.onerror=()=>{console.error("Database Error",e.error)},e.onblocked=()=>{alert("Banco de dados bloqueado")}}function c(){o.onversionchange=()=>{console.log("openDatabase:onversionchange"),null!=o&&(o.close(),alert("Banco de dados desatualizado. Atualize a p\xe1gina."))}}class s{getAll(){let e=indexedDB.open(r,1);return u(e),console.log("get all called"),new Promise((t,n)=>{e.onsuccess=()=>{o=e.result,console.log("success openning database"),c();let r=o.transaction(l),u=r.objectStore(l).getAll();console.log("getAll request: ".concat(u)),u.onerror=()=>n(u.error),u.onsuccess=()=>{let e=u.result,n=1;e.map(e=>e.id=n++),t(e)},r.oncomplete=()=>{console.log("getAll result: ".concat(u.result)),o.close()}}})}getById(e){console.log("getById called");let t=indexedDB.open(r,1);return u(t),new Promise((n,r)=>{t.onsuccess=()=>{o=t.result,console.log("success openning database"),c();let u=o.transaction(l),s=u.objectStore(l).get(e);console.log("getAll request: ".concat(s)),s.onerror=()=>r(s.error),s.onsuccess=()=>{let t=s.result;t.id=e,n(t)},u.oncomplete=()=>{console.log("getAll result: ".concat(s.result)),o.close()}}})}create(e){let t=indexedDB.open(r,1);u(t),t.onsuccess=()=>{o=t.result,c();let n=o.transaction(l,"readwrite"),r=n.objectStore(l);console.log("recipe to be saved: ".concat(e));let u=r.put(e);u.onsuccess=()=>console.log("adicionado com sucesso",u.result),u.onerror=()=>console.log("erro ao adicionar",u.error),n.oncomplete=()=>o.close()}}}},1106:(e,t,n)=>{e.exports=n(8444)}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(9232)),_N_E=e.O()}]);